---
title: "Advent of Code 2015 - Day 2"
author: "Gus Lipkin"
output: html_notebook
---

```{r}
library(tidyverse)
library(stringr)
```

```{r}
# part 1
dt <- data.table::fread("input.txt", sep = "x") %>%
  .[, c("l", "w", "h") := .(V1 * V2, V2 * V3, V1 * V3)] %>%
  .[, min := ifelse(l <= w & l <= h, l, 
                    ifelse(w <= l & w <= h, w, h))] %>%
  .[, sq := 2*l + 2*w + 2*h + min]
sum(dt$sq, na.rm = TRUE)
```

```{r}
# part 2
dt <- data.table::fread("input.txt", sep = "x") %>%
  .[, c("l", "w", "h") := .(V1 * V2, V2 * V3, V1 * V3)]
dt <- dt[, c("l", "w", "h") := .(V1, V2, V3)] %>%
  .[, max := apply(dt[, .(l, w, h)], 1, max)] %>%
  rowwise() %>%
  mutate(test = list(c(l, w, h)))
dt$min1 <- t(data.frame(sapply(dt$test, sort)))[,1]
dt$min2 <- t(data.frame(sapply(dt$test, sort)))[,2]

dt <- data.table::data.table(dt)[,rib := ((2*min1 + 2*min2) + (V1 * V2 * V3))]
sum(dt$rib, na.rm = TRUE)
```

