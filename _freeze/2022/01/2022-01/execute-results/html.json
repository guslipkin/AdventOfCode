{
  "hash": "001da23d9df9b77950cfd178d37f208e",
  "result": {
    "markdown": "---\ntitle: \"2022-01: Calorie Counting\"\nformat: html\n---\n\n::: {.cell hash='2022-01_cache/html/unnamed-chunk-1_69822b541ac59e30557b0534f8ac5958'}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──\n✔ ggplot2 3.4.0      ✔ purrr   0.3.5 \n✔ tibble  3.1.8      ✔ dplyr   1.0.10\n✔ tidyr   1.2.1      ✔ stringr 1.4.1 \n✔ readr   2.1.3      ✔ forcats 0.5.2 \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\n```\n:::\n\n```{.r .cell-code}\nlibrary(data.table)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n\nAttaching package: 'data.table'\n\nThe following objects are masked from 'package:dplyr':\n\n    between, first, last\n\nThe following object is masked from 'package:purrr':\n\n    transpose\n```\n:::\n:::\n\n\nMy initial thought was to use `data.table::fread` but that skipped the spaces in the input by default. `readLines` keeps the spaces so I switched to that right away.\n\n\n::: {.cell hash='2022-01_cache/html/unnamed-chunk-2_b16d0eb91423c7d406edddbe458dd68c'}\n\n```{.r .cell-code}\ndt <- readLines(\"input.txt\")\n```\n:::\n\n\n## Part 1\n\nThis was just a matter of getting a loop with a maximum value counter going. I knew from the get-go that I would need to use the global assignment operator inside the loop. For reasons I thought that naming my variable `sum` would work but got an error since that's a reserved word in R (duh!). Find+replace helped get that sorted but my inner loop logic was still wrong. I realized that I was missing an `else` case to catch any time the maximum hadn't changed, but the sum needed to be reset.\n\n\n::: {.cell hash='2022-01_cache/html/unnamed-chunk-3_c451c9bfeac7dc40d8d0b609bcb1dc94'}\n\n```{.r .cell-code}\nsm <- 0\nmaxsm <- 0\nfor (x in dt) {\n  x <- as.numeric(x)\n  if (!is.na(x)) {\n    sm <<- sm + x\n  } else if (sm > maxsm) {\n    maxsm <<- sm\n    sm <<- 0\n  } else {\n    sm <<- 0\n  }\n}\nmaxsm\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 68923\n```\n:::\n:::\n\n\n## Part 2\n\nComing out of Part 1 was really strong, especially on Day 1. Instead of saving just the max sum, I made it a vector to record all sums. Then I just need to sort it, get the top three values, and sum those.\n\n\n::: {.cell hash='2022-01_cache/html/unnamed-chunk-4_9247c3cd29a2aaba197160af373f9308'}\n\n```{.r .cell-code}\nsm <- 0\nmaxsm <- c()\nfor (x in dt) {\n  x <- as.numeric(x)\n  if (!is.na(x)) {\n    sm <<- sm + x\n  } else  {\n    maxsm <<- c(maxsm, sm)\n    sm <<- 0\n  }\n}\nsum(sort(maxsm, decreasing = TRUE)[1:3])\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 200044\n```\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}