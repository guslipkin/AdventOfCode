{
  "hash": "5e99f34654ca2df03c352a86dc6ba7dd",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Printing Department\"\nformat: html\ndate: \"2025-12-04\"\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(mistlecode)\n\noptions(scipen = 999)\n```\n:::\n\n\n\n## Part 1\n\nThis is one of those ones where you do great on the test input and miss something on the real one and can't figure it out. I was returning too early in a few edge cases. Literal edge cases. Where the toilet paper was on the edge of the grid.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmat <- mistlecode::read_matrix('input.txt')\nexpand.grid(\n  'y' = mat |> nrow() |> seq_len(),\n  'x' = mat |> ncol() |> seq_len()\n) |>\n  purrr::pmap(\\(y, x) {\n    if (mat[y, x] == '.') return(c('.' = 4))\n    mistlecode::get_adjacent_values(y, x, mat) |>\n      as.vector() |>\n      table()\n  }) |>\n  unlist() |>\n  (\\(x) x[names(x) == '@'])() |>\n  (\\(x) x[x <= 4])() |>\n  length()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1516\n```\n\n\n:::\n:::\n\n\n\n## Part 2\n\nA little bit more of me being not so bright on the execution and some waiting and there's a solution.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmat <- mistlecode::read_matrix('input.txt')\nwiped <- 0\ncoords <-\n  expand.grid(\n    'y' = mat |> nrow() |> seq_len(),\n    'x' = mat |> ncol() |> seq_len()\n  )\ndo_wipe <- function(mat) {\n  current <- wiped\n  mat_copy <- mat\n  coords |>\n    purrr::pwalk(\\(y, x) {\n      if (mat[y, x] == '@') {\n        vals <- \n          mistlecode::get_adjacent_values(y, x, mat) |>\n          as.vector() |>\n          table()\n        if (vals['@'] <= 4) {\n          mat_copy[y, x] <<- '.'\n          wiped <<- wiped + 1\n        }\n      }\n    })\n  if (current != wiped) do_wipe(mat_copy) else wiped\n}\ndo_wipe(mat)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 9122\n```\n\n\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}